# AI ç½‘æ–‡è®­ç»ƒå¸ˆ - æ¡Œé¢ç‰ˆ

è¿™æ˜¯ AI ç½‘æ–‡å†™ä½œè®­ç»ƒç³»ç»Ÿçš„ Electron æ¡Œé¢ç‰ˆæœ¬ï¼Œå¯æ‰“åŒ…ä¸º macOS å’Œ Windows åº”ç”¨ã€‚

## åŠŸèƒ½ç‰¹ç‚¹

- ğŸ–¥ï¸ åŸç”Ÿæ¡Œé¢åº”ç”¨ä½“éªŒ
- ğŸ“¦ å‰åç«¯ä¸€ä½“åŒ–æ‰“åŒ…
- ğŸ’¾ æœ¬åœ°æ•°æ®åº“å­˜å‚¨ï¼ˆç”¨æˆ·æ•°æ®ç›®å½•ï¼‰
- ğŸ”„ è‡ªåŠ¨æ›´æ–°æ”¯æŒï¼ˆæ£€æµ‹ã€ä¸‹è½½ã€å®‰è£…ï¼‰
- ğŸ æ”¯æŒ macOS (Intel & Apple Silicon)
- ğŸªŸ æ”¯æŒ Windows (x64 & x86)

## å¼€å‘

### å‰ç½®è¦æ±‚

- Node.js >= 18
- npm >= 9

### å®‰è£…ä¾èµ–

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•å®‰è£…ä¾èµ–
npm install

# å®‰è£… client ä¾èµ–
cd client && npm install

# å®‰è£… server ä¾èµ–
cd ../server && npm install

# å®‰è£… desktop ä¾èµ–
cd ../desktop && npm install
```

### å¼€å‘æ¨¡å¼

å¼€å‘æ¨¡å¼ä¼šåŒæ—¶å¯åŠ¨ Vite å¼€å‘æœåŠ¡å™¨å’Œ Electronï¼š

```bash
cd desktop
npm run dev
```

æ³¨æ„ï¼šå¼€å‘æ¨¡å¼ä¸‹åç«¯æœåŠ¡éœ€è¦å•ç‹¬å¯åŠ¨ï¼š

```bash
# åœ¨å¦ä¸€ä¸ªç»ˆç«¯
cd server
npm run dev
```

## æ„å»º

### æ„å»º macOS ç‰ˆæœ¬

```bash
cd desktop
npm run build:mac
```

### æ„å»º Windows ç‰ˆæœ¬

```bash
cd desktop
npm run build:win
```

### åŒæ—¶æ„å»º Mac å’Œ Windows

```bash
cd desktop
npm run build:all
```

æ„å»ºäº§ç‰©ä½äº `desktop/dist/` ç›®å½•ã€‚

## å›¾æ ‡

æ‰“åŒ…å‰éœ€è¦å‡†å¤‡åº”ç”¨å›¾æ ‡ï¼Œæ”¾ç½®åœ¨ `desktop/build/` ç›®å½•ï¼š

- `icon.icns` - macOS å›¾æ ‡
- `icon.ico` - Windows å›¾æ ‡

è¯¦è§ `desktop/build/README.md`ã€‚

## ç›®å½•ç»“æ„

```
desktop/
â”œâ”€â”€ build/              # æ‰“åŒ…èµ„æºï¼ˆå›¾æ ‡ç­‰ï¼‰
â”œâ”€â”€ client-dist/        # å‰ç«¯æ„å»ºäº§ç‰©ï¼ˆè‡ªåŠ¨ç”Ÿæˆï¼‰
â”œâ”€â”€ dist/               # æ‰“åŒ…è¾“å‡ºç›®å½•
â”œâ”€â”€ scripts/            # æ„å»ºè„šæœ¬
â”œâ”€â”€ server/             # æœåŠ¡å™¨æ–‡ä»¶å‰¯æœ¬ï¼ˆæ‰“åŒ…æ—¶ç”Ÿæˆï¼‰
â”œâ”€â”€ main.js             # Electron ä¸»è¿›ç¨‹
â”œâ”€â”€ preload.js          # é¢„åŠ è½½è„šæœ¬
â””â”€â”€ package.json        # æ¡Œé¢ç‰ˆé…ç½®
```

## æ•°æ®å­˜å‚¨

æ¡Œé¢ç‰ˆçš„æ•°æ®åº“æ–‡ä»¶å­˜å‚¨åœ¨ç”¨æˆ·æ•°æ®ç›®å½•ï¼š

- **macOS**: `~/Library/Application Support/ai-novel-trainer-desktop/`
- **Windows**: `%APPDATA%/ai-novel-trainer-desktop/`

**æ³¨æ„**ï¼šæ›´æ–°åº”ç”¨ä¸ä¼šå½±å“ç”¨æˆ·æ•°æ®ï¼Œæ•°æ®åº“æ–‡ä»¶ç‹¬ç«‹äºåº”ç”¨å­˜å‚¨ã€‚

## è‡ªåŠ¨æ›´æ–°

åº”ç”¨æ”¯æŒè‡ªåŠ¨æ£€æµ‹å’Œå®‰è£…æ›´æ–°ï¼š

1. **è‡ªåŠ¨æ£€æµ‹**ï¼šåº”ç”¨å¯åŠ¨åä¼šè‡ªåŠ¨æ£€æŸ¥æ˜¯å¦æœ‰æ–°ç‰ˆæœ¬
2. **æ‰‹åŠ¨æ£€æŸ¥**ï¼šèœå•æ  â†’ AIç½‘æ–‡è®­ç»ƒå¸ˆ â†’ æ£€æŸ¥æ›´æ–°
3. **æ›´æ–°æµç¨‹**ï¼š
   - å‘ç°æ–°ç‰ˆæœ¬æ—¶ä¼šå¼¹çª—æç¤º
   - ç”¨æˆ·é€‰æ‹©ä¸‹è½½ååœ¨åå°ä¸‹è½½
   - ä¸‹è½½å®Œæˆåæç¤ºé‡å¯å®‰è£…
   - æ›´æ–°è¿‡ç¨‹ä¸ä¼šå½±å“ç”¨æˆ·æ•°æ®

### å‘å¸ƒæ›´æ–°

è¦å‘å¸ƒæ–°ç‰ˆæœ¬æ›´æ–°ï¼š

1. æ›´æ–° `package.json` ä¸­çš„ç‰ˆæœ¬å·
2. è®¾ç½® GitHub Token ç¯å¢ƒå˜é‡ï¼š
   ```bash
   export GH_TOKEN=your_github_token
   ```
3. è¿è¡Œå‘å¸ƒå‘½ä»¤ï¼š
   ```bash
   # å‘å¸ƒåˆ° GitHub Releases
   npm run publish:mac    # å‘å¸ƒ macOS ç‰ˆæœ¬
   npm run publish:win    # å‘å¸ƒ Windows ç‰ˆæœ¬
   npm run publish:all    # å‘å¸ƒæ‰€æœ‰å¹³å°
   ```

å‘å¸ƒä¼šè‡ªåŠ¨ï¼š
- æ„å»ºåº”ç”¨
- ä¸Šä¼ åˆ° GitHub Releases
- ç”Ÿæˆ `latest.yml` / `latest-mac.yml` æ›´æ–°æè¿°æ–‡ä»¶

## æ³¨æ„äº‹é¡¹

1. é¦–æ¬¡æ„å»ºå‰è¯·ç¡®ä¿å·²å®‰è£…æ‰€æœ‰ä¾èµ–
2. Windows æ„å»ºéœ€è¦åœ¨ Windows ç³»ç»Ÿæˆ–ä½¿ç”¨ Wine
3. å¦‚éœ€è·¨å¹³å°æ„å»ºï¼Œå»ºè®®ä½¿ç”¨ CI/CD å·¥å…·
